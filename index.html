<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>ì‹œì¦ˆì˜¤ì¹´ ì—¬í–‰ ê°€ì´ë“œ V28</title>
    <style>
        /* --- 1. ê¸°ë³¸ ì„¤ì • (Reset) --- */
        * {
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background-color: #f3f4f6;
            color: #1f2937;
            height: 100dvh;
            display: flex;
            justify-content: center;
            overflow: hidden;
        }

        /* --- 2. ë ˆì´ì•„ì›ƒ --- */
        .app-container {
            width: 100%;
            max-width: 480px;
            height: 100%;
            background-color: #f9fafb;
            display: flex;
            flex-direction: column;
            position: relative;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
        }

        /* --- 3. í—¤ë” ìŠ¤íƒ€ì¼ --- */
        header {
            padding: 1.5rem;
            padding-bottom: 1.2rem;
            border-bottom-left-radius: 1.5rem;
            border-bottom-right-radius: 1.5rem;
            color: white;
            flex-shrink: 0;
            transition: all 0.3s ease;
            z-index: 30;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        header.shrink {
            padding-top: 0.75rem;
            padding-bottom: 1rem;
            padding-left: 1rem;
            padding-right: 1rem;
            border-radius: 0 0 1rem 1rem;
        }

        .bg-gradient-jan {
            background: linear-gradient(to right, #3b82f6, #06b6d4);
        }

        /* 1ì›”: ë¸”ë£¨~ì‹œì•ˆ */
        .bg-gradient-feb {
            background: linear-gradient(to right, #db2777, #e11d48);
        }

        /* 2ì›”: í•‘í¬~ë ˆë“œ */

        .lang-btn {
            position: absolute;
            top: 1.5rem;
            right: 1.5rem;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            padding: 0.4rem 0.8rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: bold;
            cursor: pointer;
            backdrop-filter: blur(4px);
            display: flex;
            align-items: center;
            gap: 4px;
            transition: all 0.3s ease;
        }

        header.shrink .lang-btn {
            top: 0.75rem;
            right: 1rem;
            padding: 0.2rem 0.6rem;
            font-size: 0.7rem;
        }

        .title {
            font-size: 1.5rem;
            font-weight: 800;
            margin-top: 0.5rem;
            margin-bottom: 0.5rem;
            transition: all 0.3s ease;
            transform-origin: left top;
        }

        header.shrink .title {
            font-size: 1.1rem;
            margin-top: 0;
            margin-bottom: 0.5rem;
        }

        /* ì‹œì¦Œ ì„ íƒ í† ê¸€ */
        .season-toggle {
            display: flex;
            background: rgba(0, 0, 0, 0.15);
            border-radius: 999px;
            padding: 2px;
            margin-bottom: 1rem;
            width: fit-content;
            transition: opacity 0.2s;
        }

        header.shrink .season-toggle {
            display: none;
        }

        /* ìŠ¤í¬ë¡¤ ì‹œ ìˆ¨ê¹€ */

        .season-btn {
            padding: 4px 12px;
            border-radius: 999px;
            border: none;
            font-size: 0.75rem;
            font-weight: bold;
            cursor: pointer;
            color: rgba(255, 255, 255, 0.7);
            background: transparent;
            transition: all 0.2s;
        }

        .season-btn.active {
            background: white;
            color: #1f2937;
            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
        }

        /* êµí†µìˆ˜ë‹¨ í† ê¸€ */
        .toggle-container {
            background: rgba(0, 0, 0, 0.1);
            padding: 0.25rem;
            border-radius: 0.75rem;
            display: flex;
            transition: all 0.3s ease;
            max-height: 50px;
            opacity: 1;
        }

        header.shrink .toggle-container {
            padding: 0.15rem;
        }

        .toggle-btn {
            flex: 1;
            padding: 0.5rem;
            border-radius: 0.5rem;
            font-size: 0.875rem;
            font-weight: bold;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            transition: all 0.2s;
        }

        header.shrink .toggle-btn {
            padding: 0.3rem;
            font-size: 0.8rem;
        }

        .toggle-btn.active {
            background-color: white;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        .toggle-btn.inactive {
            background: transparent;
            color: rgba(255, 255, 255, 0.8);
        }

        .text-jan {
            color: #0284c7;
        }

        .text-feb {
            color: #be185d;
        }

        /* --- 4. ë©”ì¸ ì»¨í…ì¸  --- */
        main {
            flex: 1;
            overflow-y: auto;
            padding: 1rem;
            padding-top: 1.5rem;
            padding-bottom: 6rem;
            scroll-behavior: smooth;
            -webkit-overflow-scrolling: touch;
        }

        .hide-scrollbar::-webkit-scrollbar {
            display: none;
        }

        .hide-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        /* íŒ ë°•ìŠ¤ */
        .tip-box {
            background: white;
            padding: 1rem;
            border-radius: 1rem;
            border: 1px solid #e5e7eb;
            margin-bottom: 1rem;
            box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            animation: fadeIn 0.5s ease-out;
        }

        .tip-title {
            font-size: 0.75rem;
            font-weight: 800;
            color: #9ca3af;
            text-transform: uppercase;
            margin-bottom: 0.5rem;
            letter-spacing: 0.05em;
        }

        .tip-item {
            font-size: 0.875rem;
            color: #4b5563;
            margin-bottom: 0.25rem;
            display: flex;
            gap: 0.5rem;
        }

        /* ì¹´ë“œ ê³µí†µ */
        .card {
            background: white;
            border-radius: 1rem;
            padding: 1.25rem;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
            animation: fadeIn 0.3s ease-out;
            margin-bottom: 1rem;
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-end;
            margin-bottom: 1rem;
            padding-bottom: 0.75rem;
            border-bottom: 1px solid #f3f4f6;
        }

        .card-title {
            font-size: 1.1rem;
            font-weight: 800;
            color: #1f2937;
            margin-bottom: 0.5rem;
        }

        /* ì¼ì • ê´€ë ¨ */
        .day-tabs {
            display: flex;
            gap: 0.5rem;
            overflow-x: auto;
            padding-bottom: 0.5rem;
            margin-bottom: 1rem;
        }

        .day-btn {
            flex-shrink: 0;
            padding: 0.5rem 1rem;
            border-radius: 9999px;
            font-size: 0.875rem;
            font-weight: bold;
            border: none;
            cursor: pointer;
            transition: all 0.2s;
            white-space: nowrap;
        }

        .day-btn.active-jan {
            background-color: #3b82f6;
            color: white;
        }

        .day-btn.active-feb {
            background-color: #db2777;
            color: white;
        }

        .day-btn.inactive {
            background-color: white;
            color: #4b5563;
            box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
        }

        .date-text {
            font-size: 0.875rem;
            font-weight: bold;
            display: block;
            margin-bottom: 0.25rem;
        }

        .title-text {
            font-size: 1.25rem;
            font-weight: 800;
            color: #1f2937;
        }

        .event-item {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
            position: relative;
        }

        .event-item::before {
            content: '';
            position: absolute;
            left: 19px;
            top: 2rem;
            bottom: -1.5rem;
            width: 2px;
            background-color: #f3f4f6;
            z-index: 0;
        }

        .event-item:last-child::before {
            display: none;
        }

        .icon-box {
            width: 40px;
            height: 40px;
            flex-shrink: 0;
            background-color: #f3f4f6;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            z-index: 1;
            position: relative;
        }

        /* ì•„ì´ì½˜ ìƒ‰ìƒ */
        .icon-fly {
            background-color: #dbeafe;
            color: #2563eb;
        }

        .icon-car {
            background-color: #e0e7ff;
            color: #4f46e5;
        }

        .icon-food {
            background-color: #ffedd5;
            color: #ea580c;
        }

        .icon-camera {
            background-color: #fce7f3;
            color: #db2777;
        }

        .icon-cloud {
            background-color: #cffafe;
            color: #0891b2;
        }

        .icon-bed {
            background-color: #f3e8ff;
            color: #9333ea;
        }

        .icon-shop {
            background-color: #fef3c7;
            color: #d97706;
        }

        .icon-map {
            background-color: #fee2e2;
            color: #dc2626;
        }

        .icon-flower {
            background-color: #fdf2f8;
            color: #db2777;
        }

        .icon-bus {
            background-color: #dcfce7;
            color: #16a34a;
        }

        .icon-train {
            background-color: #ccfbf1;
            color: #0d9488;
        }

        .icon-beer {
            background-color: #fef9c3;
            color: #ca8a04;
        }

        .icon-park {
            background-color: #ecfccb;
            color: #65a30d;
        }

        .event-content {
            flex: 1;
            padding-top: 0.25rem;
        }

        .time-badge {
            font-size: 0.75rem;
            font-weight: bold;
            color: #6b7280;
            background: #f3f4f6;
            padding: 2px 6px;
            border-radius: 4px;
            display: inline-block;
            margin-bottom: 4px;
        }

        .event-title {
            font-size: 1rem;
            font-weight: bold;
            color: #1f2937;
            margin-bottom: 0.25rem;
        }

        .event-desc {
            font-size: 0.875rem;
            color: #6b7280;
            line-height: 1.4;
            white-space: pre-wrap;
        }

        .trans-info {
            font-size: 0.8rem;
            color: #059669;
            font-weight: 600;
            background: #ecfdf5;
            padding: 2px 6px;
            border-radius: 4px;
            display: inline-block;
            margin-top: 4px;
        }

        .badge {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            font-size: 0.75rem;
            font-weight: 600;
            padding: 4px 8px;
            border-radius: 6px;
            margin-top: 0.5rem;
            margin-right: 4px;
        }

        .badge-park {
            background: #f3f4f6;
            color: #4b5563;
        }

        .badge-warn {
            background: #fef2f2;
            color: #dc2626;
            border: 1px solid #fee2e2;
        }

        .badge-flower {
            background: #fdf2f8;
            color: #db2777;
            border: 1px solid #fce7f3;
        }

        .badge-time {
            background: #eff6ff;
            color: #1d4ed8;
            border: 1px solid #dbeafe;
        }

        .btn-map {
            font-size: 0.75rem;
            font-weight: 600;
            padding: 2px 8px;
            border-radius: 4px;
            cursor: pointer;
            margin-left: auto;
            float: right;
            transition: background 0.2s;
        }

        .btn-map-jan {
            color: #0284c7;
            background: #e0f2fe;
        }

        .btn-map-feb {
            color: #be185d;
            background: #fce7f3;
        }

        /* ì²´í¬ë¦¬ìŠ¤íŠ¸ & ì •ë³´ íƒ­ */
        .check-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem;
            border: 1px solid #f3f4f6;
            border-radius: 0.5rem;
            margin-bottom: 0.5rem;
            cursor: pointer;
            transition: all 0.2s;
            background: white;
        }

        .check-box {
            width: 1.25rem;
            height: 1.25rem;
            border-radius: 0.25rem;
            border: 2px solid #d1d5db;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 0.8rem;
            transition: all 0.2s;
        }

        .check-item.checked {
            background-color: #f9fafb;
            border-color: #e5e7eb;
        }

        .check-item.checked span {
            color: #9ca3af;
            text-decoration: line-through;
        }

        .check-item.checked .check-box-jan {
            background-color: #3b82f6;
            border-color: #3b82f6;
        }

        .check-item.checked .check-box-feb {
            background-color: #db2777;
            border-color: #db2777;
        }

        /* ì •ë³´ íƒ­ ìŠ¤íƒ€ì¼ */
        .info-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 1rem;
            border-bottom: 1px solid #f3f4f6;
            cursor: pointer;
            text-decoration: none;
            color: inherit;
            transition: background 0.2s;
        }

        .info-item:last-child {
            border-bottom: none;
        }

        .info-item:active {
            background-color: #f9fafb;
        }

        .info-label {
            font-size: 0.95rem;
            font-weight: 600;
            color: #374151;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .info-val {
            font-size: 0.875rem;
            color: #6b7280;
        }

        .call-btn {
            background: #fee2e2;
            color: #dc2626;
            padding: 4px 10px;
            border-radius: 999px;
            font-size: 0.75rem;
            font-weight: bold;
        }

        .link-btn {
            background: #e0e7ff;
            color: #4f46e5;
            padding: 4px 10px;
            border-radius: 999px;
            font-size: 0.75rem;
            font-weight: bold;
        }

        /* --- 5. í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ --- */
        nav {
            background: white;
            border-top: 1px solid #e5e7eb;
            padding: 0.75rem 1.5rem;
            display: flex;
            justify-content: space-between;
            z-index: 20;
            padding-bottom: calc(1.5rem + env(safe-area-inset-bottom));
        }

        .nav-btn {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 2px;
            background: none;
            border: none;
            cursor: pointer;
            color: #9ca3af;
            font-size: 0.75rem;
            font-weight: 600;
            width: 33%;
        }

        .nav-btn.active-jan {
            color: #3b82f6;
        }

        .nav-btn.active-feb {
            color: #db2777;
        }

        .nav-icon {
            width: 24px;
            height: 24px;
            margin-bottom: 2px;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .nav-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 2rem;
            padding-top: 1.5rem;
            border-top: 1px dashed #e5e7eb;
        }

        .nav-control-btn {
            font-size: 0.875rem;
            font-weight: bold;
            color: #6b7280;
            background: none;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .btn-top {
            background: #f3f4f6;
            padding: 8px;
            border-radius: 50%;
        }
    </style>
</head>

<body>

    <div class="app-container">
        <header id="main-header" class="bg-gradient-jan">
            <button onclick="toggleLang()" class="lang-btn">ğŸŒ <span id="lang-text">æ—¥æœ¬èª</span></button>
            <div id="app-title" class="title">ì‹œì¦ˆì˜¤ì¹´ & í›„ì§€ì‚°</div>

            <!-- ì‹œì¦Œ ì„ íƒ -->
            <div class="season-toggle">
                <button onclick="setSeason('jan')" id="season-jan" class="season-btn active">â„ï¸ 1ì›” (ë§‘ìŒ/ë§¤í™”)</button>
                <button onclick="setSeason('feb')" id="season-feb" class="season-btn">ğŸŒ¸ 2ì›” (ë²šê½ƒ/íë¦¼)</button>
            </div>

            <div class="toggle-container">
                <button onclick="setMode('car')" id="btn-car" class="toggle-btn active text-jan">ğŸš— <span
                        class="txt-car">ë ŒíŠ¸ì¹´</span></button>
                <button onclick="setMode('public')" id="btn-public" class="toggle-btn inactive">ğŸš† <span
                        class="txt-public">ëŒ€ì¤‘êµí†µ</span></button>
            </div>
        </header>

        <main id="main-scroll">
            <!-- íŒ ë°•ìŠ¤ -->
            <div id="tip-container" class="tip-box">
                <h3 id="tip-title" class="tip-title">ğŸš— ë ŒíŠ¸ì¹´ & ì£¼ì°¨ íŒ</h3>
                <ul id="tip-list"></ul>
            </div>
            <div id="content-area"></div>
        </main>

        <nav>
            <button onclick="setTab('itinerary')" id="nav-btn-sch" class="nav-btn active-jan">
                <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                    <line x1="16" y1="2" x2="16" y2="6"></line>
                    <line x1="8" y1="2" x2="8" y2="6"></line>
                    <line x1="3" y1="10" x2="21" y2="10"></line>
                </svg>
                <span class="txt-sch">ì¼ì •</span>
            </button>
            <button onclick="setTab('check')" id="nav-btn-chk" class="nav-btn">
                <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <polyline points="9 11 12 14 22 4"></polyline>
                    <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"></path>
                </svg>
                <span class="txt-chk">ì²´í¬</span>
            </button>
            <button onclick="setTab('info')" id="nav-btn-info" class="nav-btn">
                <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="10"></circle>
                    <line x1="12" y1="16" x2="12" y2="12"></line>
                    <line x1="12" y1="8" x2="12.01" y2="8"></line>
                </svg>
                <span class="txt-info">ì •ë³´</span>
            </button>
        </nav>

    </div>

    <script>
        var appState = {
            tab: 'itinerary',
            day: 1,
            mode: 'car',
            lang: 'ko',
            season: 'jan',
            checks: {}
        };
        var itineraryScrollPos = 0;

        // --- ë°ì´í„° ---
        var LOCALE_DATA = {
            ko: {
                title: "ì‹œì¦ˆì˜¤ì¹´ & í›„ì§€ì‚°", rent: "ë ŒíŠ¸ì¹´", pub: "ëŒ€ì¤‘êµí†µ", sch: "ì¼ì •", chk: "ì²´í¬", info: "ì •ë³´",
                tipTitleCar: "ğŸš— ë ŒíŠ¸ì¹´ & ì£¼ì°¨ íŒ", tipTitlePub: "ğŸšŒ ëšœë²…ì´ ëª¨ë“œ íŒ",
                tipsCar: ["13:30 ì´í›„ ìˆ˜ë ¹ ì‹œ 48H ìš”ê¸ˆ ì ìš©!", "ê´€ê´‘ì§€ ì£¼ì°¨ëŠ” ëŒ€ë¶€ë¶„ ë¬´ë£Œ!"],
                tipsPub: ["ì´ë™ ì‹œê°„ì€ ë„‰ë„‰íˆ! êµ¬ê¸€ë§µ í•„ìˆ˜", "ë„ì¿„ì—ì„œ ë²šê½ƒ ë³´ë ¤ë©´ 2ì›” ë§ì´ ë”±!"],
                map: "ì§€ë„", parking: "ì£¼ì°¨", warn: "ë„ë¡œ ì´¬ì˜ ê¸ˆì§€! ë³´í–‰ì í†µë¡œ ì´ìš©",
                flowerJan: "ì•„íƒ€ë¯¸ ë²šê½ƒ&ë§¤í™” ì ˆì • ì‹œê¸°!", flowerFeb: "ì¹´ì™€ì¦ˆ ë²šê½ƒ ë§Œê°œ ì‹œì¦Œ!",
                warn48: "13:30 ì´í›„ ìˆ˜ë ¹ ê¶Œì¥ (48H ì„¸ì´ë¸Œ)",
                prev: "ì´ì „ ë‚ ", next: "ë‹¤ìŒ ë‚ ", top: "ë§¨ ìœ„ë¡œ",
                daysJan: ["1/29 (ëª©)", "1/30 (ê¸ˆ)", "1/31 (í† )", "2/1 (ì¼)", "2/2 (ì›”)"],
                daysFeb: ["2/19 (ëª©)", "2/20 (ê¸ˆ)", "2/21 (í† )", "2/22 (ì¼)", "2/23 (ì›”)"],
                dayTitlesJan: ["ì‹œì¦ˆì˜¤ì¹´ ë„ì°© (09:10)", "í›„ì§€ì‚° íˆ¬ì–´", "ì•„íƒ€ë¯¸ & ìš”ì½”í•˜ë§ˆ", "ìš°ì—ë…¸ & ì•¼ë‚˜ì¹´", "ê·€êµ­ (17:00)"],
                dayTitlesFeb: ["ì‹œì¦ˆì˜¤ì¹´ ë„ì°© (09:10)", "í›„ì§€ì‚° íˆ¬ì–´", "ìš”ì½”í•˜ë§ˆ ê´€ê´‘", "ğŸŒ¸ ë²šê½ƒ & ë ˆíŠ¸ë¡œ ë„ì¿„", "ê·€êµ­ (17:00)"],
                chkTitleCar: "ğŸš— ë“œë¼ì´ë¸Œ ì¤€ë¹„ë¬¼", chkTitlePub: "ğŸšŒ ëšœë²…ì´ ì¤€ë¹„ë¬¼",
                infoTitle1: "ğŸ†˜ ê¸´ê¸‰ ì—°ë½ì²˜ (í„°ì¹˜ ì‹œ ì—°ê²°)", infoTitle2: "ğŸ”— í•„ìˆ˜ ì›¹ì‚¬ì´íŠ¸", infoTitle3: "ğŸ’¡ ì—¬í–‰ ê¸°ì´ˆ ìƒì‹",
                police: "ê²½ì°°ì„œ", fire: "í™”ì¬/êµ¬ê¸‰ì°¨", embassy: "ì£¼ì¼ë³¸ í•œêµ­ëŒ€ì‚¬ê´€",
                visitJapan: "ë¹„ì§“ì¬íŒ¬ì›¹ (ì…êµ­ìˆ˜ì†)", translate: "êµ¬ê¸€ ë²ˆì—­ê¸°", weather: "ì‹œì¦ˆì˜¤ì¹´ ë‚ ì”¨",
                volt: "ì „ì•• 110V (ë¼ì§€ì½” í•„ìˆ˜)", tip: "íŒ ë¬¸í™” ì—†ìŒ", taxfree: "ë©´ì„¸ 5,500ì—” ì´ìƒ"
            },
            ja: {
                title: "é™å²¡ & å¯Œå£«å±±", rent: "ãƒ¬ãƒ³ã‚¿ã‚«ãƒ¼", pub: "å…¬å…±äº¤é€š", sch: "æ—¥ç¨‹", chk: "ãƒã‚§ãƒƒã‚¯", info: "æƒ…å ±",
                tipTitleCar: "ğŸš— ãƒ¬ãƒ³ã‚¿ã‚«ãƒ¼ & é§è»Šã®ã‚³ãƒ„", tipTitlePub: "ğŸšŒ å…¬å…±äº¤é€šã®ã‚³ãƒ„",
                tipsCar: ["13:30ä»¥é™å—å–ã§48Hæ–™é‡‘é©ç”¨ï¼", "è¦³å…‰åœ°ã®é§è»Šã¯ã»ã¼ç„¡æ–™ï¼"],
                tipsPub: ["ç§»å‹•æ™‚é–“ã¯ä½™è£•ã‚’æŒã£ã¦ï¼", "æ±äº¬ã§æ¡œã‚’è¦‹ã‚‹ãªã‚‰2æœˆä¸‹æ—¬ãŒãƒ™ã‚¹ãƒˆï¼"],
                map: "åœ°å›³", parking: "é§è»Šå ´", warn: "è»Šé“ã§ã®æ’®å½±ç¦æ­¢ï¼æ­©é“ã‚’åˆ©ç”¨",
                flowerJan: "ç†±æµ·æ¡œãƒ»æ¢…ã®è¦‹é ƒï¼", flowerFeb: "æ²³æ´¥æ¡œã®æº€é–‹ã‚·ãƒ¼ã‚ºãƒ³ï¼",
                warn48: "13:30ä»¥é™å—å–æ¨å¥¨ (48Hç¯€ç´„)",
                prev: "å‰æ—¥", next: "ç¿Œæ—¥", top: "ãƒˆãƒƒãƒ—ã¸",
                daysJan: ["1/29 (æœ¨)", "1/30 (é‡‘)", "1/31 (åœŸ)", "2/1 (æ—¥)", "2/2 (æœˆ)"],
                daysFeb: ["2/19 (æœ¨)", "2/20 (é‡‘)", "2/21 (åœŸ)", "2/22 (æ—¥)", "2/23 (æœˆ)"],
                dayTitlesJan: ["é™å²¡åˆ°ç€ (09:10)", "å¯Œå£«å±±ãƒ„ã‚¢ãƒ¼", "ç†±æµ· & æ¨ªæµœ", "ä¸Šé‡ & è°·ä¸­", "å¸°å›½ (17:00)"],
                dayTitlesFeb: ["é™å²¡åˆ°ç€ (09:10)", "å¯Œå£«å±±ãƒ„ã‚¢ãƒ¼", "æ¨ªæµœè¦³å…‰", "ğŸŒ¸ æ¡œ & ãƒ¬ãƒˆãƒ­æ±äº¬", "å¸°å›½ (17:00)"],
                chkTitleCar: "ğŸš— ãƒ‰ãƒ©ã‚¤ãƒ–æº–å‚™ç‰©", chkTitlePub: "ğŸšŒ å¾’æ­©æ—…è¡Œæº–å‚™ç‰©",
                infoTitle1: "ğŸ†˜ ç·Šæ€¥é€£çµ¡å…ˆ", infoTitle2: "ğŸ”— å¿…é ˆã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆ", infoTitle3: "ğŸ’¡ æ—…è¡ŒåŸºç¤çŸ¥è­˜",
                police: "è­¦å¯Ÿ", fire: "æ¶ˆé˜²/æ•‘æ€¥", embassy: "éŸ“å›½å¤§ä½¿é¤¨",
                visitJapan: "Visit Japan Web", translate: "Googleç¿»è¨³", weather: "é™å²¡ã®å¤©æ°—",
                volt: "é›»åœ§ 110V (ã‚¢ãƒ€ãƒ—ã‚¿å¿…é ˆ)", tip: "ãƒãƒƒãƒ—ä¸è¦", taxfree: "å…ç¨ 5,500å††ä»¥ä¸Š"
            }
        };

        // --- ì¼ì • ë°ì´í„° (ì‹œì¦Œë³„ ë¶„ê¸°) ---
        function getEvents(mode, season) {
            // ê¸°ë³¸ ë¼ˆëŒ€ (ë ŒíŠ¸ì¹´ ê¸°ì¤€)
            var baseEvents = [
                // Day 1 (ê³µí†µ)
                [
                    { t: "09:10", title: { ko: "ì‹œì¦ˆì˜¤ì¹´ ê³µí•­ ë„ì°©", ja: "é™å²¡ç©ºæ¸¯åˆ°ç€" }, desc: { ko: "ì…êµ­ ì‹¬ì‚¬ í›„ ì´ë™", ja: "å…¥å›½å¯©æŸ»å¾Œç§»å‹•" }, trans: { ko: "[ğŸšŒ ê³µí•­ë²„ìŠ¤ | 50ë¶„]", ja: "[ğŸšŒ ç©ºæ¸¯ãƒã‚¹ | 50ë¶„]" }, emoji: "ğŸ ", type: "fly" },
                    { t: "10:15", title: { ko: "ê³µí•­ë²„ìŠ¤ íƒ‘ìŠ¹", ja: "ç©ºæ¸¯ãƒã‚¹ä¹—è»Š" }, desc: { ko: "ì‹œì¦ˆì˜¤ì¹´ì—­í–‰", ja: "é™å²¡é§…è¡Œã" }, trans: { ko: "[ğŸšŒ ì‹œì¦ˆì˜¤ì¹´ì—­í–‰ | 50ë¶„]", ja: "[ğŸšŒ é™å²¡é§…è¡Œ | 50åˆ†]" }, emoji: "ğŸšŒ", type: "bus" },
                    { t: "11:30", title: { ko: "ì ì‹¬: ì‚¬ì™€ì•¼ì¹´ í•¨ë°”ê·¸", ja: "ãƒ©ãƒ³ãƒ: ã•ã‚ã‚„ã‹ãƒãƒ³ãƒãƒ¼ã‚°" }, desc: { ko: "ì„¸ë…¸ë°”ì  ëŒ€ê¸°í‘œ (ì›¨ì´íŒ… í™œìš©)", ja: "ã‚»ãƒãƒåº—æ•´ç†åˆ¸ (å¾…ã¡æ™‚é–“æ´»ç”¨)" }, emoji: "ğŸ”", type: "food", loc: "Sawayaka Shizuoka Cenova" },
                    { t: "13:30", title: { ko: "ğŸš— ë ŒíŠ¸ì¹´ ìˆ˜ë ¹ (48H)", ja: "ğŸš— ãƒ¬ãƒ³ã‚¿ã‚«ãƒ¼å—å– (48H)" }, desc: { ko: "ì ì‹¬ í›„ ìˆ˜ë ¹í•˜ì—¬ ìš”ê¸ˆ ì ˆì•½!", ja: "ãƒ©ãƒ³ãƒå¾Œå—å–ã§æ–™é‡‘ç¯€ç´„ï¼" }, emoji: "ğŸš—", type: "car", warn48: true },
                    { t: "14:15", title: { ko: "ğŸ“ ë‹ˆí˜¼ë‹¤ì´ë¼ ìœ ë©” í…Œë¼ìŠ¤", ja: "ğŸ“ æ—¥æœ¬å¹³å¤¢ãƒ†ãƒ©ã‚¹" }, desc: { ko: "í›„ì§€ì‚° ë·° + ê±´ì¶•ë¬¼ ê°ìƒ", ja: "å¯Œå£«å±±ãƒ“ãƒ¥ãƒ¼ + å»ºç¯‰é‘‘è³" }, trans: { ko: "[ğŸš— ì°¨ëŸ‰ ì´ë™ | 30ë¶„]", ja: "[ğŸš— è»Šç§»å‹• | 30åˆ†]" }, emoji: "ğŸ“·", type: "camera", loc: "Nihondaira Yume Terrace", p: "Free" },
                    { t: "16:00", title: { ko: "ë¯¸í˜¸ì˜ ì†¡ì›", ja: "ä¸‰ä¿ã®æ¾åŸ" }, desc: { ko: "ë°”ë‹¤+ì†Œë‚˜ë¬´+í›„ì§€ì‚°", ja: "æµ·+æ¾+å¯Œå£«å±±" }, trans: { ko: "[ğŸš— ì°¨ëŸ‰ ì´ë™ | 25ë¶„]", ja: "[ğŸš— è»Šç§»å‹• | 25åˆ†]" }, emoji: "ğŸŒŠ", type: "water", loc: "Miho no Matsubara", p: "Free" },
                    { t: "19:00", title: { ko: "ì•„ì˜¤ë°” ì˜¤ë…ê±°ë¦¬", ja: "é’è‘‰ãŠã§ã‚“è¡—" }, desc: { ko: "ê²€ì€ ì˜¤ë…+ë§¥ì£¼ (ì €ë…)", ja: "é™å²¡ãŠã§ã‚“+ãƒ“ãƒ¼ãƒ«" }, trans: { ko: "[ğŸš— ì‹œë‚´ ë³µê·€ | 35ë¶„]", ja: "[ğŸš— å¸‚å†…å¾©å¸° | 35åˆ†]" }, emoji: "ğŸº", type: "food", loc: "Aoba Oden Street" }
                ],
                // Day 2 (ê³µí†µ)
                [
                    { t: "08:30", title: { ko: "í˜¸í…” ì¶œë°œ", ja: "ãƒ›ãƒ†ãƒ«å‡ºç™º" }, desc: { ko: "ì•„ì¹¨ ë§‘ì€ ê³µê¸° ë§ˆì‹œë©° ì¶œë°œ", ja: "æœã®æ¾„ã‚“ã ç©ºæ°—ë¡œ ì¶œë°œ" }, emoji: "ğŸš—", type: "car" },
                    { t: "09:30", title: { ko: "ğŸ“ í›„ì§€ì‚° ê¿ˆì˜ ëŒ€êµ", ja: "ğŸ“ å¯Œå£«å±±å¤¢ã®å¤§æ©‹" }, desc: { ko: "ìœ¡êµ ìœ„ ì¸ìƒìƒ·", ja: "æ­©é“æ©‹ã§ã®è¨˜å¿µæ’®å½±" }, trans: { ko: "[ğŸš— ê³ ì†ë„ë¡œ/êµ­ë„ | 45ë¶„]", ja: "[ğŸš— é«˜é€Ÿ/å›½é“ | 45åˆ†]" }, emoji: "ğŸ“·", type: "camera", loc: "Fuji Central Park", p: "Free", warn: true },
                    { t: "10:30", title: { ko: "ì˜¤ë¶€ì¹˜ì‚¬ì‚¬ë°”", ja: "å¤§æ·µç¬¹å ´" }, desc: { ko: "í›„ì§€ì‚°+ë…¹ì°¨ë°­ ë·°", ja: "å¯Œå£«å±±+èŒ¶ç•‘ã®çµ¶æ™¯" }, trans: { ko: "[ğŸš— êµ­ë„ ì´ë™ | 20ë¶„]", ja: "[ğŸš— å›½é“ç§»å‹• | 20åˆ†]" }, emoji: "ğŸ“·", type: "camera", loc: "Obuchi Sasaba", p: "Free" },
                    { t: "12:00", title: { ko: "ì‹œë¼ì´í†  í­í¬ & ì ì‹¬", ja: "ç™½ç³¸ã®æ» & ãƒ©ãƒ³ãƒ" }, desc: { ko: "ì•¼í‚¤ì†Œë°” + í­í¬ ì‚°ì±…", ja: "ç„¼ããã° + æ»ã®æ•£ç­–" }, trans: { ko: "[ğŸš— êµ­ë„ ì´ë™ | 25ë¶„]", ja: "[ğŸš— å›½é“ç§»å‹• | 25åˆ†]" }, emoji: "ğŸ’§", type: "water", loc: "Shiraito Falls", p: "500Â¥" },
                    { t: "14:00", title: { ko: "íƒ€ëˆ„í‚¤í˜¸", ja: "ç”°è²«æ¹–" }, desc: { ko: "í˜¸ìˆ˜ ë“œë¼ì´ë¸Œ & ì‚°ì±…", ja: "æ¹–ç•”ãƒ‰ãƒ©ã‚¤ãƒ– & æ•£ç­–" }, trans: { ko: "[ğŸš— êµ­ë„ ì´ë™ | 15ë¶„]", ja: "[ğŸš— å›½é“ç§»å‹• | 15åˆ†]" }, emoji: "ğŸŒŠ", type: "water", loc: "Lake Tanuki", p: "Free" },
                    { t: "18:00", title: { ko: "ì €ë…: ì¥ì–´ë®ë°¥", ja: "å¤•é£Ÿ: ã†ãªãä¸¼" }, desc: { ko: "ë¯¸ì‹œë§ˆ ëª…ë¬¼ ìš°ë‚˜ê¸°\n(ì¶”ì²œ: ì‚¬ì¿ ë¼ì•¼, ìš°ë‚˜ìš”ì‹œ)", ja: "ä¸‰å³¶åç‰©ã†ãªã\n(ãŠã™ã™ã‚: æ¡œå®¶, ã†ãªã‚ˆã—)" }, trans: { ko: "[ğŸš— ë¯¸ì‹œë§ˆ ì´ë™ | 50ë¶„]", ja: "[ğŸš— ä¸‰å³¶ã¸ç§»å‹• | 50åˆ†]" }, emoji: "ğŸ±", type: "food", loc: "Sakuraya Mishima" },
                    { t: "20:00", title: { ko: "ë¯¸ì‹œë§ˆ ì´ìì¹´ì•¼ íƒë°©", ja: "ä¸‰å³¶å±…é…’å±‹å·¡ã‚Š" }, desc: { ko: "ë¯¸ì‹œë§ˆ íˆë¡œì½”ì§€ ì—­ ê·¼ì²˜\në¡œì»¬ ì´ìì¹´ì•¼ ì¦ê¸°ê¸°", ja: "ä¸‰å³¶åºƒå°è·¯é§…è¿‘ã\nãƒ­ãƒ¼ã‚«ãƒ«å±…é…’å±‹ã‚’æ¥½ã—ã‚€" }, emoji: "ğŸ®", type: "beer", loc: "Mishima Hirokoji Station" }
                ],
                // Day 3 (ì‹œì¦Œë³„ ë¶„ê¸°)
                [],
                // Day 4 (ì‹œì¦Œë³„ ë¶„ê¸°)
                [],
                // Day 5 (ê³µí†µ)
                [
                    { t: "10:00", title: { ko: "ì²´í¬ì•„ì›ƒ & ì•„ì ", ja: "ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆ & ãƒ–ãƒ©ãƒ³ãƒ" }, desc: { ko: "ë§ˆì§€ë§‰ í¸ì˜ì  í„¸ê¸°", ja: "æœ€å¾Œã®ã‚³ãƒ³ãƒ“ãƒ‹" }, emoji: "ğŸª", type: "shop" },
                    { t: "12:00", title: { ko: "ê³µí•­ìœ¼ë¡œ ì´ë™", ja: "ç©ºæ¸¯ã¸ç§»å‹•" }, desc: { ko: "ë„ì¿„OUT 13:30, ì‹œì¦ˆì˜¤ì¹´OUT 11:30 ì¶œë°œ", ja: "æ±äº¬OUT 13:30, é™å²¡OUT 11:30å‡ºç™º" }, trans: { ko: "[ğŸš† ìŠ¤ì¹´ì´ë¼ì´ë„ˆ ë“± | 60ë¶„]", ja: "[ğŸš† ã‚¹ã‚«ã‚¤ãƒ©ã‚¤ãƒŠãƒ¼ç­‰ | 60åˆ†]" }, emoji: "ğŸš†", type: "train" },
                    { t: "15:00", title: { ko: "ê³µí•­ ë„ì°© & ìˆ˜ì†", ja: "ç©ºæ¸¯åˆ°ç€ & æ‰‹ç¶šã" }, desc: { ko: "17:00 ë¹„í–‰ê¸°", ja: "17:00 ãƒ•ãƒ©ã‚¤ãƒˆ" }, emoji: "âœˆï¸", type: "fly" }
                ]
            ];

            // Day 3: 1ì›”(ì•„íƒ€ë¯¸) vs 2ì›”(ì˜¤ì™€ì¿ ë‹¤ë‹ˆ)
            if (season === 'jan') {
                baseEvents[2] = [
                    { t: "09:30", title: { ko: "ì•„íƒ€ë¯¸ ì´ë™ (ë§¤í™”/ë²šê½ƒ)", ja: "ç†±æµ·ã¸ç§»å‹• (æ¢…/æ¡œ)" }, desc: { ko: "1ì›”ë§ ì•„íƒ€ë¯¸ëŠ” ë§¤í™”&ë²šê½ƒ ì²œêµ­!", ja: "1æœˆæœ«ã®ç†±æµ·ã¯æ¢…ã¨æ¡œã®å¤©å›½ï¼" }, trans: { ko: "[ğŸš— êµ­ë„ 1í˜¸ì„  | 40ë¶„]", ja: "[ğŸš— å›½é“1å·ç·š | 40åˆ†]" }, emoji: "ğŸŒ¸", type: "flower", loc: "Atami Baien" },
                    { t: "10:30", title: { ko: "ì•„íƒ€ë¯¸ ë§¤í™”ì› & ë²šê½ƒ", ja: "ç†±æµ·æ¢…åœ’ & æ¡œ" }, desc: { ko: "ë§¤í™” ì¶•ì œ & ì´í† ê°€ì™€ ë²šê½ƒ ì‚°ì±…", ja: "æ¢…ç¥­ã‚Š & ç³¸å·æ¡œæ•£ç­–" }, emoji: "ğŸ“·", type: "camera", loc: "Itogawa Path" },
                    { t: "13:00", title: { ko: "ì‹ ìš”ì½”í•˜ë§ˆì—­ ë°˜ë‚©", ja: "æ–°æ¨ªæµœé§…è¿”å´" }, desc: { ko: "13:30 ì „ ë°˜ë‚© (48H ì„¸ì´ë¸Œ)", ja: "13:30å‰è¿”å´ (48Hã‚»ãƒ¼ãƒ–)" }, trans: { ko: "[ğŸš— ìœ ë£Œë„ë¡œ | 60ë¶„]", ja: "[ğŸš— æœ‰æ–™é“è·¯ | 60åˆ†]" }, emoji: "ğŸš©", type: "map" },
                    { t: "14:00", title: { ko: "ğŸ‡¨ğŸ‡³ ìš”ì½”í•˜ë§ˆ ì°¨ì´ë‚˜íƒ€ìš´", ja: "ğŸ‡¨ğŸ‡³ æ¨ªæµœä¸­è¯è¡—" }, desc: { ko: "ì ì‹¬: ë§Œë‘, íƒ•í›„ë£¨", ja: "ãƒ©ãƒ³ãƒ: é¤ƒå­, ã‚¿ãƒ³ãƒ•ãƒ«" }, trans: { ko: "[ğŸš† ì „ì²  | 20ë¶„]", ja: "[ğŸš† é›»è»Š | 20åˆ†]" }, emoji: "ğŸ¥Ÿ", type: "food", loc: "Yokohama Chinatown" },
                    { t: "16:30", title: { ko: "ğŸ§± ì•„ì¹´ë Œê°€ & ì—ì–´ ìºë¹ˆ", ja: "ğŸ§± èµ¤ãƒ¬ãƒ³ã‚¬ & ã‚¨ã‚¢ã‚­ãƒ£ãƒ“ãƒ³" }, desc: { ko: "ì‡¼í•‘ & ì•¼ê²½ ê°ìƒ", ja: "ã‚·ãƒ§ãƒƒãƒ”ãƒ³ã‚° & å¤œæ™¯" }, emoji: "ğŸš ", type: "fly", loc: "YOKOHAMA AIR CABIN" },
                    { t: "18:30", title: { ko: "ë„ì¿„ ì´ë™ (ì‹ ì£¼ì¿ )", ja: "æ±äº¬ã¸ç§»å‹•" }, desc: { ko: "ì €ë…ì€ ë„ì¿„ì—ì„œ!", ja: "å¤•é£Ÿã¯æ±äº¬ã§ï¼" }, trans: { ko: "[ğŸš† ì „ì²  | 50ë¶„]", ja: "[ğŸš† é›»è»Š | 50åˆ†]" }, emoji: "ğŸš†", type: "train" },
                    { t: "20:00", title: { ko: "ë„ì¿„ ì €ë… & ë’·í’€ì´", ja: "æ±äº¬å¤•é£Ÿ" }, desc: { ko: "ì‹ ì£¼ì¿  ì˜¤ëª¨ì´ë° ìš”ì½”ì´ˆ ë“±", ja: "æ–°å®¿æ€ã„å‡ºæ¨ªä¸ãªã©" }, emoji: "ğŸº", type: "beer", loc: "Omoide Yokocho" }
                ];
            } else { // Feb
                baseEvents[2] = [
                    { t: "09:30", title: { ko: "ë¯¸ì‹œë§ˆ ì¶œë°œ", ja: "ä¸‰å³¶å‡ºç™º" }, desc: { ko: "í•˜ì½”ë„¤ êµ­ë„ 1í˜¸ì„  ë“œë¼ì´ë¸Œ", ja: "ç®±æ ¹å›½é“1å·ç·šãƒ‰ãƒ©ã‚¤ãƒ–" }, emoji: "ğŸš—", type: "car" },
                    { t: "10:30", title: { ko: "ğŸŒ‹ ì˜¤ì™€ì¿ ë‹¤ë‹ˆ", ja: "ğŸŒ‹ å¤§æ¶Œè°·" }, desc: { ko: "ê²€ì€ ë‹¬ê±€(ìˆ˜ëª… ì—°ì¥!)", ja: "é»’ãŸã¾ã”(å¯¿å‘½å»¶é•·!)" }, trans: { ko: "[ğŸš— í•˜ì½”ë„¤ ì‚°ê¸¸ | 50ë¶„]", ja: "[ğŸš— ç®±æ ¹å±±é“ | 50åˆ†]" }, emoji: "ğŸŒ‹", type: "map", loc: "Owakudani", p: "530Â¥" },
                    { t: "13:00", title: { ko: "ì‹ ìš”ì½”í•˜ë§ˆì—­ ë°˜ë‚©", ja: "æ–°æ¨ªæµœé§…è¿”å´" }, desc: { ko: "13:30 ì „ ë°˜ë‚© (48H ì„¸ì´ë¸Œ)", ja: "13:30å‰è¿”å´ (48Hã‚»ãƒ¼ãƒ–)" }, emoji: "ğŸš©", type: "map" },
                    { t: "13:30", title: { ko: "ğŸ‡¨ğŸ‡³ ìš”ì½”í•˜ë§ˆ ì°¨ì´ë‚˜íƒ€ìš´", ja: "ğŸ‡¨ğŸ‡³ æ¨ªæµœä¸­è¯è¡—" }, desc: { ko: "ì ì‹¬: ë§Œë‘, íƒ•í›„ë£¨", ja: "ãƒ©ãƒ³ãƒ: é¤ƒå­, ã‚¿ãƒ³ãƒ•ãƒ«" }, emoji: "ğŸ¥Ÿ", type: "food", loc: "Yokohama Chinatown" },
                    { t: "16:30", title: { ko: "ğŸš  ì—ì–´ ìºë¹ˆ & ì•¼ê²½", ja: "ğŸš  ã‚¨ã‚¢ã‚­ãƒ£ãƒ“ãƒ³" }, desc: { ko: "ë„ì‹¬ ë¡œí”„ì›¨ì´", ja: "éƒ½å¸‚ãƒ­ãƒ¼ãƒ—ã‚¦ã‚§ã‚¤" }, emoji: "ğŸš ", type: "fly", loc: "YOKOHAMA AIR CABIN" },
                    { t: "18:30", title: { ko: "ë„ì¿„ ì´ë™ (ì‹ ì£¼ì¿ )", ja: "æ±äº¬ã¸ç§»å‹•" }, desc: { ko: "ì €ë…ì€ ë„ì¿„ì—ì„œ!", ja: "å¤•é£Ÿã¯æ±äº¬ã§ï¼" }, emoji: "ğŸš†", type: "train" },
                    { t: "20:00", title: { ko: "ë„ì¿„ ì €ë… & ë’·í’€ì´", ja: "æ±äº¬å¤•é£Ÿ" }, desc: { ko: "ì‹ ì£¼ì¿  ì˜¤ëª¨ì´ë° ìš”ì½”ì´ˆ ë“±", ja: "æ–°å®¿æ€ã„å‡ºæ¨ªä¸ãªã©" }, emoji: "ğŸº", type: "beer", loc: "Omoide Yokocho" }
                ];
            }

            // Day 4: 1ì›”(ìš°ì—ë…¸/ì•¼ë‚˜ì¹´) vs 2ì›”(êµ¬ë‚˜ì¹´ê°€ì™€ ë²šê½ƒ)
            if (season === 'jan') {
                baseEvents[3] = [
                    { t: "10:00", title: { ko: "ìš°ì—ë…¸ ê³µì› (ê²¨ìš¸ëª¨ë€)", ja: "ä¸Šé‡æ©è³œå…¬åœ’ (å†¬ã¼ãŸã‚“)" }, desc: { ko: "ë„ì¿„ êµ­ë¦½ë°•ë¬¼ê´€ & ëª¨ë€ì› ì‚°ì±…", ja: "æ±äº¬å›½ç«‹åšç‰©é¤¨ & ã¼ãŸã‚“è‹‘æ•£ç­–" }, trans: { ko: "[ğŸš† ì§€í•˜ì²  | 20ë¶„]", ja: "[ğŸš† åœ°ä¸‹é‰„ | 20åˆ†]" }, emoji: "ğŸŒ¸", type: "park", loc: "Ueno Park" },
                    { t: "12:00", title: { ko: "ì•„ë©”ìš”ì½” ì‹œì¥", ja: "ã‚¢ãƒ¡æ¨ªå•†åº—è¡—" }, desc: { ko: "í™œê¸°ì°¬ ì¬ë˜ì‹œì¥! ê¸¸ê±°ë¦¬ ì ì‹¬", ja: "æ´»æ°—ã‚ã‚‹å¸‚å ´ï¼é£Ÿã¹æ­©ããƒ©ãƒ³ãƒ" }, emoji: "ğŸ¢", type: "food", loc: "Ameyoko Shopping District" },
                    { t: "14:00", title: { ko: "ì•¼ë‚˜ì¹´ ê¸´ì (ë ˆíŠ¸ë¡œ)", ja: "è°·ä¸­éŠ€åº§ (ãƒ¬ãƒˆãƒ­)" }, desc: { ko: "ê³ ì–‘ì´ ë§ˆì„ & ìœ ì•¼ì¼€ ë‹¨ë‹¨ ê³„ë‹¨", ja: "çŒ«ã®ç”º & å¤•ç„¼ã‘ã ã‚“ã ã‚“" }, emoji: "ğŸˆ", type: "camera", loc: "Yanaka Ginza" },
                    { t: "17:00", title: { ko: "ìŠ¤ì¹´ì´íŠ¸ë¦¬ & ì•¼ê²½", ja: "ã‚¹ã‚«ã‚¤ãƒ„ãƒªãƒ¼ & å¤œæ™¯" }, desc: { ko: "ë„ì¿„ ì „ê²½ ê°ìƒ (ì†Œë¼ë§ˆì¹˜ ì‡¼í•‘)", ja: "æ±äº¬å…¨æ™¯é‘‘è³ (ã‚½ãƒ©ãƒãƒè²·ã„ç‰©)" }, emoji: "ğŸ—¼", type: "shop", loc: "Tokyo Skytree" }
                ];
            } else {
                baseEvents[3] = [
                    { t: "10:00", title: { ko: "â›©ï¸ ë§ˆì“°ì¹˜ì•¼ë§ˆ ì„±ì²œ", ja: "â›©ï¸ å¾…ä¹³å±±è–å¤©" }, desc: { ko: "ë¬´(Daikon)ê°€ ìƒì§•ì¸ íŒŒì›ŒìŠ¤íŒŸ", ja: "å¤§æ ¹ãŒã‚·ãƒ³ãƒœãƒ«ã®ãƒ‘ãƒ¯ãƒ¼ã‚¹ãƒãƒƒãƒˆ" }, emoji: "â›©ï¸", type: "map", loc: "Matsuchiyama Shoden" },
                    { t: "11:30", title: { ko: "ğŸŒ¸ êµ¬ë‚˜ì¹´ê°€ì™€ ë²šê½ƒ", ja: "ğŸŒ¸ æ—§ä¸­å·ã®æ²³æ´¥æ¡œ" }, desc: { ko: "ì§„í•œ í•‘í¬ìƒ‰ ì¹´ì™€ì¦ˆ ë²šê½ƒ!", ja: "æ¿ƒã„ãƒ”ãƒ³ã‚¯ã®æ²³æ´¥æ¡œï¼" }, emoji: "ğŸŒ¸", type: "flower", loc: "Old Nakagawa Riverbed", flower: true },
                    { t: "13:30", title: { ko: "ì ì‹¬: ì¹´ë©”ì´ë„/ì•„ì‚¬ì¿ ì‚¬", ja: "ãƒ©ãƒ³ãƒ: äº€æˆ¸/æµ…è‰" }, desc: { ko: "êµì ë˜ëŠ” ëª¬ìì•¼í‚¤", ja: "é¤ƒå­ or ã‚‚ã‚“ã˜ã‚ƒç„¼ã" }, emoji: "ğŸ¥Ÿ", type: "food", loc: "Kameido Gyoza" },
                    { t: "15:00", title: { ko: "ì¿ ë¼ë§ˆì— ì¹´í˜", ja: "è”µå‰ã‚«ãƒ•ã‚§" }, desc: { ko: "ë„ì¿„ì˜ ë¸Œë£¨í´ë¦°", ja: "æ±äº¬ã®ãƒ–ãƒ«ãƒƒã‚¯ãƒªãƒ³" }, emoji: "â˜•", type: "food", loc: "Kuramae Station" },
                    { t: "18:00", title: { ko: "ìŠ¤ì¹´ì´íŠ¸ë¦¬ ì•¼ê²½", ja: "ã‚¹ã‚«ã‚¤ãƒ„ãƒªãƒ¼å¤œæ™¯" }, desc: { ko: "ì¼ì • ë§ˆë¬´ë¦¬ ì‡¼í•‘", ja: "æ—¥ç¨‹ã®ç· ã‚ããã‚Š" }, emoji: "ğŸŒƒ", type: "camera", loc: "Tokyo Skytree" }
                ];
            }

            // ëŒ€ì¤‘êµí†µ ëª¨ë“œì¸ ê²½ìš° (ë ŒíŠ¸ì¹´ ë¶€ë¶„ë§Œ ìˆ˜ì •)
            if (mode === 'public') {
                // Day 1-2 Public logic
                baseEvents[0][3] = { t: "13:00", title: { ko: "ì‹œë‚´ ëšœë²…ì´ ê´€ê´‘", ja: "å¸‚å†…è¦³å…‰" }, desc: { ko: "ìŠ¨í‘¸ ì„± ê³µì›", ja: "é§¿åºœåŸå…¬åœ’" }, emoji: "ğŸš¶", type: "camera" };
                // ... (í•„ìš”í•œ ë¶€ë¶„ public dataë¡œ êµì²´ ë¡œì§ì€ V25ì™€ ë™ì¼)
            }

            return baseEvents;
        }

        // --- ì•ˆì „ í˜¸ì¶œ ---
        window.safeCall = function (number, name) {
            if (confirm(name + " (" + number + ") ì—°ê²°í•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) {
                if (confirm("ì •ë§ë¡œ ì—°ê²°í•˜ì‹œê² ìŠµë‹ˆê¹Œ? (ë¹„ìƒ ì‹œì—ë§Œ ì‚¬ìš©í•˜ì„¸ìš”)")) {
                    window.location.href = "tel:" + number;
                }
            }
        };

        // --- ë Œë”ë§ í•¨ìˆ˜ ---
        function render() {
            var txt = LOCALE_DATA[appState.lang];
            var isJan = appState.season === 'jan';
            var themeColor = isJan ? 'text-jan' : 'text-feb';
            var gradient = isJan ? 'bg-gradient-jan' : 'bg-gradient-feb';
            var activeBtn = isJan ? 'active-jan' : 'active-feb';

            // 1. í—¤ë” ì—…ë°ì´íŠ¸
            document.getElementById('lang-text').innerText = appState.lang === 'ko' ? 'æ—¥æœ¬èª' : 'í•œêµ­ì–´';
            document.getElementById('app-title').innerText = txt.title;
            document.getElementById('main-header').className = gradient;

            document.getElementById('season-jan').className = 'season-btn ' + (isJan ? 'active' : '');
            document.getElementById('season-feb').className = 'season-btn ' + (!isJan ? 'active' : '');

            var btnCar = document.getElementById('btn-car');
            var btnPub = document.getElementById('btn-public');
            if (appState.mode === 'car') {
                btnCar.className = 'toggle-btn active ' + themeColor;
                btnPub.className = 'toggle-btn inactive';
            } else {
                btnCar.className = 'toggle-btn inactive';
                btnPub.className = 'toggle-btn active ' + themeColor;
            }

            var navSch = document.getElementById('nav-btn-sch');
            var navChk = document.getElementById('nav-btn-chk');
            var navInfo = document.getElementById('nav-btn-info');

            navSch.className = appState.tab === 'itinerary' ? 'nav-btn ' + activeBtn : 'nav-btn';
            navChk.className = appState.tab === 'check' ? 'nav-btn ' + activeBtn : 'nav-btn';
            navInfo.className = appState.tab === 'info' ? 'nav-btn ' + activeBtn : 'nav-btn';

            // 2. ì»¨í…ì¸ 
            var content = document.getElementById('content-area');
            content.innerHTML = '';

            // íŒ ë°•ìŠ¤
            if (appState.tab === 'itinerary') {
                document.getElementById('tip-container').style.display = 'block';
                document.getElementById('tip-title').innerText = appState.mode === 'car' ? txt.tipTitleCar : txt.tipTitlePub;
                var tips = appState.mode === 'car' ? txt.tipsCar : txt.tipsPub;
                var tipHtml = '';
                tips.forEach(function (t) {
                    tipHtml += '<li class="tip-item"><span style="font-weight:bold" class="' + themeColor + '">âœ”</span> ' + t + '</li>';
                });
                document.getElementById('tip-list').innerHTML = tipHtml;
            } else {
                document.getElementById('tip-container').style.display = 'none';
            }

            // íƒ­ë³„ ë‚´ìš©
            if (appState.tab === 'itinerary') {
                var daysArr = isJan ? txt.daysJan : txt.daysFeb;
                var titlesArr = isJan ? txt.dayTitlesJan : txt.dayTitlesFeb;

                var daysHtml = '<div class="day-tabs">';
                daysArr.forEach(function (d, i) {
                    var isActive = (i + 1) === appState.day;
                    var cls = isActive ? 'day-btn ' + activeBtn : 'day-btn inactive';
                    daysHtml += '<button onclick="setDay(' + (i + 1) + ')" class="' + cls + '">Day ' + (i + 1) + '</button>';
                });
                daysHtml += '</div>';

                var currentEvents = getEvents(appState.mode, appState.season)[appState.day - 1];
                var eventsHtml = '<div class="card">';
                eventsHtml += '<div class="card-header"><div>';
                eventsHtml += '<span class="date-text ' + themeColor + '">' + daysArr[appState.day - 1] + '</span>';
                eventsHtml += '<div class="card-title">' + titlesArr[appState.day - 1] + '</div>';
                eventsHtml += '</div></div>';

                eventsHtml += '<div>';
                if (currentEvents) {
                    currentEvents.forEach(function (e) {
                        var mapBtn = e.loc ? '<button onclick="openMap(\'' + e.loc + '\')" class="btn-map ' + (isJan ? 'btn-map-jan' : 'btn-map-feb') + '">ğŸ“ ' + txt.map + '</button>' : '';
                        var badges = '';
                        if (e.p) badges += '<span class="badge badge-park">ğŸ…¿ï¸ ' + e.p + '</span>';
                        if (e.flower) badges += '<div class="badge badge-flower">ğŸŒ¸ ' + (isJan ? txt.flowerJan : txt.flowerFeb) + '</div>';
                        if (e.warn48) badges += '<div class="badge badge-time">â° ' + txt.warn48 + '</div>';

                        var iconClass = 'icon-' + (e.type || 'car');

                        eventsHtml += '<div class="event-item">';
                        eventsHtml += '<div class="icon-box ' + iconClass + '">' + e.emoji + '</div>';
                        eventsHtml += '<div class="event-content">';
                        eventsHtml += '<div style="display:flex; justify-content:space-between; align-items:center;">';
                        eventsHtml += '<span class="time-badge">' + e.t + '</span>' + mapBtn;
                        eventsHtml += '</div>';
                        eventsHtml += '<div class="event-title">' + e.title[appState.lang] + '</div>';
                        if (e.trans) eventsHtml += '<div class="trans-info">' + e.trans[appState.lang] + '</div>';
                        eventsHtml += '<div class="event-desc">' + e.desc[appState.lang] + '</div>';
                        eventsHtml += badges;
                        eventsHtml += '</div></div>';
                    });
                }
                eventsHtml += '</div>';

                eventsHtml += '<div class="nav-controls">';
                if (appState.day > 1) eventsHtml += '<button onclick="setDay(' + (appState.day - 1) + ')" class="nav-control-btn">â—€ ' + txt.prev + '</button>';
                else eventsHtml += '<div></div>';
                eventsHtml += '<button onclick="scrollToTop()" class="nav-control-btn btn-top">â¬† ' + txt.top + '</button>';
                if (appState.day < 5) eventsHtml += '<button onclick="setDay(' + (appState.day + 1) + ')" class="nav-control-btn">' + txt.next + ' â–¶</button>';
                else eventsHtml += '<div></div>';
                eventsHtml += '</div></div>';

                content.innerHTML = daysHtml + eventsHtml;
            }
            else if (appState.tab === 'check') {
                var listHtml = '<div class="card"><h2 class="card-title" style="margin-bottom:1rem;">' + txt.chkTitleCar + '</h2>';

                var chkList = [
                    { id: "c1", ko: "ì—¬ê¶Œ & í•­ê³µê¶Œ", ja: "ãƒ‘ã‚¹ãƒãƒ¼ãƒˆ & èˆªç©ºåˆ¸" },
                    { id: "c2", ko: "êµ­ì œìš´ì „ë©´í—ˆì¦ (í•„ìˆ˜)", ja: "å›½éš›é‹è»¢å…è¨±è¨¼ (å¿…é ˆ)", mode: 'car' },
                    { id: "c3", ko: "í•œêµ­ ë©´í—ˆì¦ (ë ŒíŠ¸ ì‹œ ìš”êµ¬)", ja: "éŸ“å›½ã®å…è¨±è¨¼", mode: 'car' },
                    { id: "c4", ko: "Suica (ì• í”Œí˜ì´/í˜„ë¬¼)", ja: "Suica (Apple Pay/ç¾ç‰©)" },
                    { id: "c5", ko: "110v ë¼ì§€ì½” ì–´ëŒ‘í„°", ja: "110v é›»æºã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼" },
                    { id: "c6", ko: "ë³´ì¡°ë°°í„°ë¦¬", ja: "ãƒ¢ãƒã‚¤ãƒ«ãƒãƒƒãƒ†ãƒªãƒ¼" },
                    { id: "c7", ko: "ë™ì „ ì§€ê°‘ (í•„ìˆ˜)", ja: "å°éŠ­å…¥ã‚Œ (å¿…é ˆ)" },
                    { id: "c8", ko: "ì£¼ì°¨ë¹„ìš© (í˜„ê¸ˆ 1000ì—”ê¶Œ)", ja: "é§è»Šæ–™é‡‘ (ç¾é‡‘)", mode: 'car' },
                    { id: "c9", ko: "í¸í•œ ìš´ë™í™”", ja: "æ­©ãã‚„ã™ã„é´" },
                    { id: "c10", ko: "ë²„ìŠ¤ ì‹œê°„í‘œ ìº¡ì²˜", ja: "ãƒã‚¹æ™‚åˆ»è¡¨ã‚¹ã‚¯ã‚·ãƒ§", mode: 'pub' }
                ];

                chkList.forEach(function (item) {
                    if (item.mode && item.mode !== appState.mode) return;
                    var isChecked = appState.checks[item.id];
                    var boxClass = isChecked ? (isJan ? 'check-box-jan' : 'check-box-feb') : '';

                    listHtml += '<div onclick="toggleCheck(\'' + item.id + '\')" class="check-item ' + (isChecked ? 'checked' : '') + '">';
                    listHtml += '<div class="check-box ' + boxClass + '">' + (isChecked ? 'âœ”' : '') + '</div>';
                    listHtml += '<span>' + item[appState.lang] + '</span>';
                    listHtml += '</div>';
                });
                listHtml += '</div>';
                content.innerHTML = listHtml;
            }
            else if (appState.tab === 'info') {
                var infoHtml = '<div class="card"><h2 class="card-title" style="margin-bottom:1rem;">' + txt.infoTitle1 + '</h2>';
                infoHtml += '<div class="info-item" onclick="safeCall(\'110\', \'' + txt.police + '\')"><div class="info-label">ğŸ‘®â€â™‚ï¸ ' + txt.police + '</div><span class="call-btn">110</span></div>';
                infoHtml += '<div class="info-item" onclick="safeCall(\'119\', \'' + txt.fire + '\')"><div class="info-label">ğŸš‘ ' + txt.fire + '</div><span class="call-btn">119</span></div>';
                infoHtml += '<div class="info-item" onclick="safeCall(\'+81-3-3452-7611\', \'' + txt.embassy + '\')"><div class="info-label">ğŸ‡°ğŸ‡· ' + txt.embassy + '</div><span class="call-btn">Call</span></div>';
                infoHtml += '</div>';

                infoHtml += '<div class="card"><h2 class="card-title" style="margin-bottom:1rem;">' + txt.infoTitle2 + '</h2>';
                infoHtml += '<a href="https://www.vjw.digital.go.jp/" target="_blank" class="info-item"><div class="info-label">ğŸ“ ' + txt.visitJapan + '</div><span class="link-btn">Go</span></a>';
                infoHtml += '<a href="https://translate.google.co.kr/" target="_blank" class="info-item"><div class="info-label">ğŸ—£ï¸ ' + txt.translate + '</div><span class="link-btn">Go</span></a>';
                infoHtml += '<a href="https://tenki.jp/forecast/5/25/" target="_blank" class="info-item"><div class="info-label">â˜€ï¸ ' + txt.weather + '</div><span class="link-btn">Go</span></a>';
                infoHtml += '</div>';

                infoHtml += '<div class="card"><h2 class="card-title" style="margin-bottom:1rem;">' + txt.infoTitle3 + '</h2>';
                infoHtml += '<div class="info-item"><div class="info-label">âš¡ ' + txt.volt + '</div></div>';
                infoHtml += '<div class="info-item"><div class="info-label">ğŸ’¸ ' + txt.tip + '</div></div>';
                infoHtml += '<div class="info-item"><div class="info-label">ğŸ›ï¸ ' + txt.taxfree + '</div></div>';
                infoHtml += '</div>';

                content.innerHTML = infoHtml;
            }

            // Nav Icons Color
            var navSch = document.getElementById('nav-btn-sch');
            var navChk = document.getElementById('nav-btn-chk');
            var navInfo = document.getElementById('nav-btn-info');

            navSch.className = appState.tab === 'itinerary' ? 'nav-btn ' + activeBtn : 'nav-btn';
            navChk.className = appState.tab === 'check' ? 'nav-btn ' + activeBtn : 'nav-btn';
            navInfo.className = appState.tab === 'info' ? 'nav-btn ' + activeBtn : 'nav-btn';
        }

        // --- Actions ---
        window.toggleLang = function () { appState.lang = (appState.lang === 'ko' ? 'ja' : 'ko'); render(); };
        window.setMode = function (m) { appState.mode = m; render(); };
        window.setSeason = function (s) { appState.season = s; appState.day = 1; render(); scrollToTop(); };
        window.setTab = function (t) {
            if (appState.tab === 'itinerary') itineraryScrollPos = document.getElementById('main-scroll').scrollTop;
            appState.tab = t; render();
            if (t === 'itinerary') document.getElementById('main-scroll').scrollTop = itineraryScrollPos;
            else document.getElementById('main-scroll').scrollTop = 0;
        };
        window.setDay = function (d) { appState.day = d; render(); scrollToTop(); };
        window.openMap = function (q) { window.open('https://www.google.com/maps/search/?api=1&query=' + encodeURIComponent(q), '_blank'); };
        window.toggleCheck = function (id) { appState.checks[id] = !appState.checks[id]; render(); };
        window.scrollToTop = function () { document.getElementById('main-scroll').scrollTo({ top: 0, behavior: 'smooth' }); };

        // Scroll Header Effect
        document.getElementById('main-scroll').addEventListener('scroll', function () {
            var header = document.getElementById('main-header');
            if (this.scrollTop > 20) header.classList.add('shrink');
            else header.classList.remove('shrink');
        });

        render();
    </script>
</body>

</html>
